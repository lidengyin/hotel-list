webpackJsonp([10],{JNIu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),o=r.n(a),n=r("NC6I"),l=r.n(n),s=r("D2Ra"),i=r("NYxO"),c=(r("kw8N"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e});function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function a(o,n){try{var l=t[o](n),s=l.value}catch(e){return void r(e)}if(!l.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}var u={data:function(){return{loading:!1,checkInPerson:"",startDate:"",endDate:"",hotelName:"",operation:"",orderReference:"",proprietaryHotel:"",orderStatus:"",channel:"",channels:[{name:"代理通",id:"代理通"},{name:"飞猪",id:"飞猪"},{name:"美团",id:"美团"},{name:"青芒果",id:"青芒果"}],orderIds:[],dateFlag:"",time:"",pageNum:1,pageSize:10,total:0,Orders:[],orders:[],orderLists:[],tiaoJian:{},dialogInsertVisible:!1,insertForm:{channel:"",channels:[{name:"美团",id:1},{name:"携程",id:2},{name:"飞猪",id:3},{name:"饿了么",id:4}],checkInDate:"",checkOutDate:"",targetDate:"",checkInPerson:"",dutyParagraph:"",floorPrice:"",hotelName:"",houseType:"",invoiceTitle:"",numbersNight:"",numbersRoom:"",operation:"",orderReference:"",orderStatus:"",proprietaryHotel:"",remark:"",salesManager:"",sellingPrice:""},insertError:"",dialogUpdateVisible:!1,updateForm:{channel:"",orderId:"",checkInDate:"",checkOutDate:"",targetDate:"",checkInPerson:"",dutyParagraph:"",floorPrice:"",hotelName:"",houseType:"",invoiceTitle:"",numbersNight:"",numbersRoom:"",operation:"",orderReference:"",orderStatus:"",proprietaryHotel:"",remark:"",salesManager:"",sellingPrice:""},updateError:"",dialogExcelVisible:!1,excelFlag:0,downExcelUrl:"",downExcelUrl1:""}},computed:c({},Object(i.c)(["primaryLangID"])),created:function(){this.search()},mounted:function(){this.choiceMenuId("artificialOrder")},methods:c({},Object(i.b)(["choiceMenuId"]),{returnHeaders:function(e){var t=(new Date).getTime()+"",r="                                         ";return{timestamp:t,interfacekey:r,requesttype:e,signature:l()(t+109+l()(r).toUpperCase()+104+e).toUpperCase(),masterhotelmode:"T","Content-Type":"application/json;charset=UTF-8"}},handleCurrentChange:function(e){this.pageNum=e,this.reqOrders()},handleSizeChange:function(e){this.pageSize=e,this.reqOrders()},resetTiaoJian:function(){this.checkInPerson="",this.hotelName="",this.operation="",this.orderReference="",this.proprietaryHotel="",this.orderStatus="",this.channel="",this.dateFlag="",this.time="",this.startDate="",this.endDate=""},saveTiaoJian:function(){var e={};e.pageSize=this.pageSize,e.pageNum=this.pageNum,e.channel=this.channel,e.checkInPerson=this.checkInPerson,e.startDate=this.startDate,e.endDate=this.endDate,e.hotelName=this.hotelName,e.orderReference=this.orderReference,e.orderStatus=this.orderStatus,e.proprietaryHotel=this.proprietaryHotel,e.dateFlag=this.dateFlag,this.tiaoJian=e,console.log(this.tiaoJian)},search:function(){this.pageNum=1,this.reqOrders()},reqOrders:function(){var e=this;return p(o.a.mark(function t(){var r,a,n,l,i,c,p,u,d,m,h,f,v;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.pageSize,a=e.pageNum,n=e.proprietaryHotel,l=e.channel,i=e.checkInPerson,c=e.hotelName,p=e.orderReference,u=e.orderStatus,d=e.dateFlag,m=e.endDate,h=e.startDate,f={pageSize:r,pageNum:a},l&&(f.channel=l),i&&(f.checkInPerson=i),c&&(f.hotelName=c),p&&(f.orderReference=p),u&&(f.orderStatus=u),""!=d&&(d>0||0==d)&&(f.dateFlag=d,m&&(f.endDate=m),h&&(f.startDate=h)),""==n||1!=n&&0!=n||(f.proprietaryHotel=n),e.loading=!0,t.next=12,Object(s.s)(f);case 12:v=t.sent,e.loading=!1,0==v.status?(e.saveTiaoJian(),e.orderIds=[],e.Orders=v.data.list[0],e.orders=e.Orders.orders,e.total=v.data.total):e.message("获取订单列表失败","error",1500);case 15:case"end":return t.stop()}},t,e)}))()},toInsert:function(){this.dialogInsertVisible=!0},cancleInsert:function(){this.dialogInsertVisible=!1},insert:function(){var e=this;return p(o.a.mark(function t(){var r,a,n,l,i,c,p,u,d,m,h,f,v,g,b,y,F,k,_,x,D,I;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.insertForm,a=r.channel,n=r.checkInDate,l=r.checkInPerson,i=r.checkOutDate,c=r.dutyParagraph,p=r.floorPrice,u=r.hotelName,d=r.invoiceTitle,m=r.numbersNight,h=e.insertForm,f=h.numbersRoom,v=h.operation,g=h.orderReference,b=h.orderStatus,y=h.proprietaryHotel,F=h.remark,k=h.salesManager,_=h.sellingPrice,x=h.targetDate,!(g&&u&&l)){t.next=28;break}return(D=new FormData).append("channel",a),D.append("checkInDate",n),D.append("checkInPerson",l),D.append("checkOutDate",i),D.append("dutyParagraph",c),D.append("floorPrice",p),D.append("hotelName",u),D.append("invoiceTitle",d),D.append("numbersNight",m),D.append("numbersRoom",f),D.append("orderReference",g),D.append("orderStatus",b),D.append("proprietaryHotel",y),D.append("remark",F),D.append("operation",v),D.append("salesManager",k),D.append("sellingPrice",_),D.append("targetDate",x),t.next=24,Object(s.u)(D);case 24:0==(I=t.sent).status?(e.dialogInsertVisible=!1,e.search(),e.message(I.msg,"success",1500)):e.insertError="新增订单失败，请检查填写信息是否正确再重试上传",t.next=29;break;case 28:e.insertError="请填写完整必填信息";case 29:case"end":return t.stop()}},t,e)}))()},change:function(e){var t=e.channel,r=e.checkInDate,a=e.checkInPerson,o=e.checkOutDate,n=e.dutyParagraph,l=e.floorPrice,s=e.hotelName,i=e.invoiceTitle,c=e.numbersNight,p=e.orderId,u=e.numbersRoom,d=e.operation,m=e.orderReference,h=e.orderStatus,f=e.proprietaryHotel,v=e.remark,g=e.salesManager,b=e.sellingPrice,y=e.targetDate;this.updateForm.channel=t,this.updateForm.checkInDate=r,this.updateForm.checkInPerson=a,this.updateForm.checkOutDate=o,this.updateForm.dutyParagraph=n,this.updateForm.floorPrice=l,this.updateForm.hotelName=s,this.updateForm.invoiceTitle=i,this.updateForm.numbersNight=c,this.updateForm.orderId=p,this.updateForm.numbersRoom=u,this.updateForm.operation=d,this.updateForm.orderReference=m,this.updateForm.orderStatus=h,this.updateForm.proprietaryHotel=f,this.updateForm.proprietaryHotel=f,this.updateForm.remark=v,this.updateForm.salesManager=g,this.updateForm.sellingPrice=b,this.updateForm.targetDate=y,console.log(this.updateForm),this.dialogUpdateVisible=!0},cancleUpdate:function(){this.dialogUpdateVisible=!1},update:function(){var e=this;return p(o.a.mark(function t(){var r,a,n,l,i,c,p,u,d,m,h,f,v,g,b,y,F,k,_,x,D,I,P;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.updateForm,a=r.channel,n=r.checkInDate,l=r.checkInPerson,i=r.checkOutDate,c=r.dutyParagraph,p=r.floorPrice,u=r.hotelName,d=r.invoiceTitle,m=r.numbersNight,h=r.orderId,f=e.updateForm,v=f.numbersRoom,g=f.operation,b=f.orderReference,y=f.orderStatus,F=f.proprietaryHotel,k=f.remark,_=f.salesManager,x=f.sellingPrice,D=f.targetDate,!(b&&u&&l)){t.next=29;break}return(I=new FormData).append("channel",a),I.append("orderId",h),I.append("checkInDate",n),I.append("checkInPerson",l),I.append("checkOutDate",i),I.append("dutyParagraph",c),I.append("floorPrice",p),I.append("hotelName",u),I.append("invoiceTitle",d),I.append("numbersNight",m),I.append("numbersRoom",v),I.append("orderReference",b),I.append("orderStatus",y),I.append("proprietaryHotel",F),I.append("remark",k),I.append("operation",g),I.append("salesManager",_),I.append("sellingPrice",x),I.append("targetDate",D),t.next=25,Object(s.t)(I);case 25:0==(P=t.sent).status?(e.dialogUpdateVisible=!1,e.search(),e.message(P.msg,"success",1500)):e.insertError="修改订单失败，请检查填写信息是否正确再重试修改",t.next=30;break;case 29:e.insertError="请填写完整必填信息";case 30:case"end":return t.stop()}},t,e)}))()},resetForm:function(e){this.$refs[e].resetFields()},toDeleteOne:function(e){var t=this;this.$confirm("确定删除该订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteOne(e)}).catch(function(){console.log("已取消操作")})},toDeleteMany:function(){var e=this;this.$confirm("确定删除选中的订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteMany()}).catch(function(){console.log("已取消操作")})},deleteMany:function(){var e=this;return p(o.a.mark(function t(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.orderIds,t.next=3,Object(s.b)(r);case 3:0==t.sent.status?(e.resetTiaoJian(),e.search()):e.message("删除订单失败","error",1500);case 5:case"end":return t.stop()}},t,e)}))()},deleteOne:function(e){var t=this;return p(o.a.mark(function r(){var a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(a=[]).push(e.orderId),r.next=4,Object(s.b)(a);case 4:0==r.sent.status?(t.resetTiaoJian(),t.search()):t.message("删除订单失败","error",1500);case 6:case"end":return r.stop()}},r,t)}))()},daoChu:function(){this.dialogExcelVisible=!0,this.outPutExcel()},outPutExcel:function(){var e=this;return p(o.a.mark(function t(){var r,a,n,l,i,c,p,u,d,m,h,f,v,g,b,y,F,k;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.excelFlag=0,e.tiaoJian.excelFlag=e.excelFlag,1==e.excelFlag?(r=e.tiaoJian.excelFlag,a={excelFlag:r}):(n=e.tiaoJian,l=n.pageSize,i=n.pageNum,c=n.proprietaryHotel,p=n.channel,u=n.checkInPerson,d=n.hotelName,m=n.orderReference,h=n.orderStatus,f=n.dateFlag,v=n.endDate,g=n.startDate,r=n.excelFlag,a={pageSize:l,pageNum:i,excelFlag:r},p&&(a.channel=p),u&&(a.checkInPerson=u),d&&(a.hotelName=d),m&&(a.orderReference=m),h&&(a.orderStatus=h),""!=f&&(f>0||0==f)&&(a.dateFlag=f,v&&(a.endDate=v),g&&(a.startDate=g)),""==c||1!=c&&0!=c||(a.proprietaryHotel=c)),t.next=5,Object(s.r)(a);case 5:return t.sent?(b="http://119.3.215.235:8256/order/output_excel_order.do?",a!=={}&&(y="",Object.keys(a).forEach(function(e){y+=e+"="+a[e]+"&"}),""!==y&&(y=y.substring(0,y.lastIndexOf("&")),b+=y)),1==e.excelFlag?e.downExcelUrl1=b:e.downExcelUrl=b):e.message("数据导出失败","error",1500),e.excelFlag=1,e.tiaoJian.excelFlag=e.excelFlag,1==e.excelFlag?(r=e.tiaoJian.excelFlag,a={excelFlag:r}):(F=e.tiaoJian,l=F.pageSize,i=F.pageNum,c=F.proprietaryHotel,p=F.channel,u=F.checkInPerson,d=F.hotelName,m=F.orderReference,h=F.orderStatus,f=F.dateFlag,v=F.endDate,g=F.startDate,r=F.excelFlag,a={pageSize:l,pageNum:i,excelFlag:r},p&&(a.channel=p),u&&(a.checkInPerson=u),d&&(a.hotelName=d),m&&(a.orderReference=m),h&&(a.orderStatus=h),""!=f&&(f>0||0==f)&&(a.dateFlag=f,v&&(a.endDate=v),g&&(a.startDate=g)),""==c||1!=c&&0!=c||(a.proprietaryHotel=c)),t.next=12,Object(s.r)(a);case 12:t.sent?(b="http://119.3.215.235:8256/order/output_excel_order.do?",a!=={}&&(k="",Object.keys(a).forEach(function(e){k+=e+"="+a[e]+"&"}),""!==k&&(k=k.substring(0,k.lastIndexOf("&")),b+=k)),1==e.excelFlag?e.downExcelUrl1=b:e.downExcelUrl=b):e.message("数据导出失败","error",1500);case 14:case"end":return t.stop()}},t,e)}))()},hadDown:function(){this.dialogExcelVisible=!1,this.downExcelUrl="",this.downExcelUrl1=""},handleChange:function(e,t){var r=this;return p(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("file",e.raw),t.next=4,Object(s.n)(a);case 4:0==t.sent.status?(r.message("导入Excel文件成功","success",1500),r.resetTiaoJian(),r.search()):r.message("导入Excel文件出错","error",1500);case 6:case"end":return t.stop()}},t,r)}))()},handleSelectionChange:function(e){var t=[];e.map(function(e){t.push(e.orderId)}),this.orderIds=t,console.log(this.orderIds)},goToDetail:function(e){this.hotelID=e.hotelID;var t=this.$router.resolve({name:"hotelDeatil",query:{hotelID:JSON.stringify(this.hotelID),hoteltype:JSON.stringify(0)}}).href;window.open(t,"_blank")},formatterOpenYear:function(e,t){return e.openYear?e.openYear.slice(0,10):"-"},formatterChannels:function(e,t){var r="";return this.channels.map(function(t){t.id==e.channel&&(r=t.name)}),r},dateToStr:function(e){var t=e.getFullYear(),r=e.getMonth(),a=e.getMonth()+1,o=e.getDate(),n=e.getHours(),l=e.getMinutes();e.getSeconds();return r<10&&(r="0"+r),a<10&&(a="0"+a),o<10&&(o="0"+o),n<10&&(n="0"+n),l<10&&(l="0"+l),t+"-"+a+"-"+o},message:function(e,t,r){this.$message({message:e,duration:r,type:t})}}),watch:{time:function(e,t){e?(this.startDate=this.dateToStr(e[0]),this.endDate=this.dateToStr(e[1])):(this.startDate="",this.endDate="")},dialogInsertVisible:function(e,t){this.insertError="",e||this.resetForm("insertForm")},dialogUpdateVisible:function(e,t){this.updateError=""}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"myExportList"},[r("div",{staticStyle:{padding:"20px"}},[r("h3",{staticClass:"myExportList-bigTtitle"},[e._v("手工订单：")]),e._v(" "),r("el-dialog",{attrs:{title:"新增订单",top:"7vh",visible:e.dialogInsertVisible},on:{"update:visible":function(t){e.dialogInsertVisible=t}}},[r("el-form",{ref:"insertForm",attrs:{model:e.insertForm}},[r("el-form-item",{attrs:{label:"酒店名",prop:"hotelName",rules:[{required:!0,message:"请输入酒店名",trigger:"blur"}]}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.hotelName,callback:function(t){e.$set(e.insertForm,"hotelName",t)},expression:"insertForm.hotelName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入住人姓名",prop:"checkInPerson",rules:[{required:!0,message:"请输入入住人姓名",trigger:"blur"}]}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.checkInPerson,callback:function(t){e.$set(e.insertForm,"checkInPerson",t)},expression:"insertForm.checkInPerson"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单编号",prop:"orderReference",rules:[{required:!0,message:"请输入订单编号",trigger:"blur"}]}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.orderReference,callback:function(t){e.$set(e.insertForm,"orderReference",t)},expression:"insertForm.orderReference "}})],1),e._v(" "),r("el-form-item",{attrs:{label:"预定日期",prop:"targetDate"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择预定日期"},model:{value:e.insertForm.targetDate,callback:function(t){e.$set(e.insertForm,"targetDate",t)},expression:"insertForm.targetDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入住日期",prop:"checkInDate"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择入住日期"},model:{value:e.insertForm.checkInDate,callback:function(t){e.$set(e.insertForm,"checkInDate",t)},expression:"insertForm.checkInDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"离店日期",prop:"checkOutDate"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择离店日期"},model:{value:e.insertForm.checkOutDate,callback:function(t){e.$set(e.insertForm,"checkOutDate",t)},expression:"insertForm.checkOutDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"卖价",prop:"sellingPrice"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.sellingPrice,callback:function(t){e.$set(e.insertForm,"sellingPrice",t)},expression:"insertForm.sellingPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"底价",prop:"floorPrice"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.floorPrice,callback:function(t){e.$set(e.insertForm,"floorPrice",t)},expression:"insertForm.floorPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"夜数",prop:"numbersNight"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.numbersNight,callback:function(t){e.$set(e.insertForm,"numbersNight",t)},expression:"insertForm.numbersNight"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"房间数",prop:"numbersRoom"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.numbersRoom,callback:function(t){e.$set(e.insertForm,"numbersRoom",t)},expression:"insertForm.numbersRoom"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"渠道",prop:"channel"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},model:{value:e.insertForm.channel,callback:function(t){e.$set(e.insertForm,"channel",t)},expression:"insertForm.channel"}},[r("el-option",{attrs:{label:"代理通",value:"代理通"}}),e._v(" "),r("el-option",{attrs:{label:"飞猪",value:"飞猪"}}),e._v(" "),r("el-option",{attrs:{label:"美团",value:"美团"}}),e._v(" "),r("el-option",{attrs:{label:"青芒果",value:"青芒果"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.orderStatus,callback:function(t){e.$set(e.insertForm,"orderStatus",t)},expression:"insertForm.orderStatus"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"运营",prop:"operation"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.operation,callback:function(t){e.$set(e.insertForm,"operation",t)},expression:"insertForm.operation"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"销售经理",prop:"salesManager"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.salesManager,callback:function(t){e.$set(e.insertForm,"salesManager",t)},expression:"insertForm.salesManager"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发票抬头",prop:"invoiceTitle"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.invoiceTitle,callback:function(t){e.$set(e.insertForm,"invoiceTitle",t)},expression:"insertForm.invoiceTitle"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"税号",prop:"dutyParagraph"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.dutyParagraph,callback:function(t){e.$set(e.insertForm,"dutyParagraph",t)},expression:"insertForm.dutyParagraph"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否是自营酒店",prop:"proprietaryHotel"}},[r("el-select",{attrs:{placeholder:"请选择是否是自营酒店"},model:{value:e.insertForm.proprietaryHotel,callback:function(t){e.$set(e.insertForm,"proprietaryHotel",t)},expression:"insertForm.proprietaryHotel"}},[r("el-option",{attrs:{label:"是",value:1}}),e._v(" "),r("el-option",{attrs:{label:"不是",value:0}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"remarkInputItem",attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"},model:{value:e.insertForm.remark,callback:function(t){e.$set(e.insertForm,"remark",t)},expression:"insertForm.remark"}})],1)],1),e._v(" "),e.insertError?r("div",{staticClass:"errorTip"},[e._v(e._s(" * ")+e._s(e.insertError))]):e._e(),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.cancleInsert()}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.insert()}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改订单",top:"7vh",visible:e.dialogUpdateVisible},on:{"update:visible":function(t){e.dialogUpdateVisible=t}}},[r("el-form",{ref:"insertForm",attrs:{model:e.updateForm}},[r("el-form-item",{attrs:{label:"酒店名",prop:"hotelName",rules:[{required:!0,message:"请输入酒店名",trigger:"blur"}]}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.hotelName,callback:function(t){e.$set(e.updateForm,"hotelName",t)},expression:"updateForm.hotelName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入住人姓名",prop:"checkInPerson",rules:[{required:!0,message:"请输入入住人姓名",trigger:"blur"}]}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.checkInPerson,callback:function(t){e.$set(e.updateForm,"checkInPerson",t)},expression:"updateForm.checkInPerson"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单编号",prop:"orderReference",rules:[{required:!0,message:"请输入订单编号",trigger:"blur"}]}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.orderReference,callback:function(t){e.$set(e.updateForm,"orderReference",t)},expression:"updateForm.orderReference "}})],1),e._v(" "),r("el-form-item",{attrs:{label:"预定日期",prop:"targetDate"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择预定日期"},model:{value:e.updateForm.targetDate,callback:function(t){e.$set(e.updateForm,"targetDate",t)},expression:"updateForm.targetDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入住日期",prop:"checkInDate"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择入住日期"},model:{value:e.updateForm.checkInDate,callback:function(t){e.$set(e.updateForm,"checkInDate",t)},expression:"updateForm.checkInDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"离店日期",prop:"checkOutDate"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择离店日期"},model:{value:e.updateForm.checkOutDate,callback:function(t){e.$set(e.updateForm,"checkOutDate",t)},expression:"updateForm.checkOutDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"卖价",prop:"sellingPrice"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.sellingPrice,callback:function(t){e.$set(e.updateForm,"sellingPrice",t)},expression:"updateForm.sellingPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"底价",prop:"floorPrice"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.floorPrice,callback:function(t){e.$set(e.updateForm,"floorPrice",t)},expression:"updateForm.floorPrice"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"夜数",prop:"numbersNight"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.numbersNight,callback:function(t){e.$set(e.updateForm,"numbersNight",t)},expression:"updateForm.numbersNight"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"房间数",prop:"numbersRoom"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.numbersRoom,callback:function(t){e.$set(e.updateForm,"numbersRoom",t)},expression:"updateForm.numbersRoom"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"渠道",prop:"channel"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},model:{value:e.updateForm.channel,callback:function(t){e.$set(e.updateForm,"channel",t)},expression:"updateForm.channel"}},[r("el-option",{attrs:{label:"代理通",value:"代理通"}}),e._v(" "),r("el-option",{attrs:{label:"飞猪",value:"飞猪"}}),e._v(" "),r("el-option",{attrs:{label:"美团",value:"美团"}}),e._v(" "),r("el-option",{attrs:{label:"青芒果",value:"青芒果"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.orderStatus,callback:function(t){e.$set(e.updateForm,"orderStatus",t)},expression:"updateForm.orderStatus"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"运营",prop:"operation"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.operation,callback:function(t){e.$set(e.updateForm,"operation",t)},expression:"updateForm.operation"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"销售经理",prop:"salesManager"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.salesManager,callback:function(t){e.$set(e.updateForm,"salesManager",t)},expression:"updateForm.salesManager"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发票抬头",prop:"invoiceTitle"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.invoiceTitle,callback:function(t){e.$set(e.updateForm,"invoiceTitle",t)},expression:"updateForm.invoiceTitle"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"税号",prop:"dutyParagraph"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.dutyParagraph,callback:function(t){e.$set(e.updateForm,"dutyParagraph",t)},expression:"updateForm.dutyParagraph"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否是自营酒店",prop:"proprietaryHotel"}},[r("el-select",{attrs:{placeholder:"请选择是否是自营酒店"},model:{value:e.updateForm.proprietaryHotel,callback:function(t){e.$set(e.updateForm,"proprietaryHotel",t)},expression:"updateForm.proprietaryHotel"}},[r("el-option",{attrs:{label:"是",value:1}}),e._v(" "),r("el-option",{attrs:{label:"不是",value:0}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"remarkInputItem",attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"},model:{value:e.updateForm.remark,callback:function(t){e.$set(e.updateForm,"remark",t)},expression:"updateForm.remark"}})],1)],1),e._v(" "),e.updateError?r("div",{staticClass:"errorTip"},[e._v(e._s(" * ")+e._s(e.updateError))]):e._e(),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.cancleUpdate()}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.update()}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"导出Excel",top:"15vh",width:"500px",visible:e.dialogExcelVisible},on:{"update:visible":function(t){e.dialogExcelVisible=t}}},[r("div",{staticStyle:{"margin-bottom":"20px","padding-bottom":"30px","text-align":"center"}},[r("button",{attrs:{type:"primary"},on:{click:function(t){return e.hadDown()}}},[e.downExcelUrl?r("a",{attrs:{href:e.downExcelUrl}},[e._v("导出当页数据Excel")]):e._e()]),e._v(" "),r("button",{attrs:{type:"primary"},on:{click:function(t){return e.hadDown()}}},[e.downExcelUrl1?r("a",{attrs:{href:e.downExcelUrl1}},[e._v("导出全部数据Excel")]):e._e()])])]),e._v(" "),r("div",{staticClass:"myExportList-smallTitle"},[r("span",{staticClass:"myExportList-span myExportList-title"},[e._v("\n          快速筛选\n        ")]),e._v(" "),r("span",{staticClass:"myExportList-span"},[e._v("\n          今日新订("+e._s(e.Orders.newOrderCount)+")\n        ")]),e._v(" "),r("span",{staticClass:"myExportList-span"},[e._v("\n          今日入住("+e._s(e.Orders.newCheckInCount)+")\n        ")]),e._v(" "),r("span",{staticClass:"myExportList-span"},[e._v("\n          待入住("+e._s(e.Orders.targetOrderCount)+")\n        ")])]),e._v(" "),r("ul",{staticClass:"myExportList-conditionUl"},[r("li",{staticClass:"myExportList-conditionLi"},[r("span",{staticClass:"myExportList-conditionSpan"},[e._v("订单编号：")]),e._v(" "),r("el-input",{attrs:{placeholder:"订单号"},model:{value:e.orderReference,callback:function(t){e.orderReference=t},expression:"orderReference"}})],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("span",{staticClass:"myExportList-conditionSpan"},[e._v("客户姓名：")]),e._v(" "),r("el-input",{attrs:{placeholder:"客户姓名"},model:{value:e.checkInPerson,callback:function(t){e.checkInPerson=t},expression:"checkInPerson"}})],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("span",{staticClass:"myExportList-conditionSpan"},[e._v("酒店名称：")]),e._v(" "),r("el-input",{attrs:{placeholder:"酒店名称"},model:{value:e.hotelName,callback:function(t){e.hotelName=t},expression:"hotelName"}})],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("span",{staticClass:"myExportList-conditionSpan"},[e._v("订单状态：")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入订单状态",autocomplete:"off"},model:{value:e.orderStatus,callback:function(t){e.orderStatus=t},expression:"orderStatus"}})],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("span",{staticClass:"myExportList-conditionSpan"},[e._v("渠道：")]),e._v(" "),r("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},[r("el-option",{attrs:{label:"代理通",value:"代理通"}}),e._v(" "),r("el-option",{attrs:{label:"飞猪",value:"飞猪"}}),e._v(" "),r("el-option",{attrs:{label:"美团",value:"美团"}}),e._v(" "),r("el-option",{attrs:{label:"青芒果",value:"青芒果"}})],1)],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("span",{staticClass:"myExportList-conditionSpan"},[e._v("是否自营：")]),e._v(" "),r("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},model:{value:e.proprietaryHotel,callback:function(t){e.proprietaryHotel=t},expression:"proprietaryHotel"}},[r("el-option",{attrs:{label:"非自营",value:0}}),e._v(" "),r("el-option",{attrs:{label:"自营",value:1}})],1)],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("span",{staticClass:"myExportList-conditionSpan"},[e._v("日期选择：")]),e._v(" "),r("el-select",{attrs:{filterable:"",placeholder:"请选择日期类型"},model:{value:e.dateFlag,callback:function(t){e.dateFlag=t},expression:"dateFlag"}},[r("el-option",{attrs:{label:"所有日期",value:0}}),e._v(" "),r("el-option",{attrs:{label:"预定日期",value:1}}),e._v(" "),r("el-option",{attrs:{label:"入住日期",value:2}}),e._v(" "),r("el-option",{attrs:{label:"离店日期",value:3}})],1),e._v(" "),r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("el-button",{staticClass:"hotelButton",on:{click:function(t){return e.search()}}},[e._v("查询")])],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("el-button",{staticClass:"hotelButton",attrs:{type:"primary"},on:{click:function(t){return e.toInsert()}}},[e._v("新增")])],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("el-button",{staticClass:"hotelButton",attrs:{type:"danger",plain:"",disabled:0==e.orderIds.length},on:{click:function(t){return e.toDeleteMany()}}},[e._v("批量删除")])],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("el-button",{staticClass:"hotelButton",attrs:{type:"primary"},on:{click:function(t){return e.daoChu()}}},[e._v("导出")])],1),e._v(" "),r("li",{staticClass:"myExportList-conditionLi"},[r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:"","on-change":e.handleChange,"auto-upload":!1}},[r("el-button",{staticClass:"hotelButton"},[e._v("导入表格文件")])],1)],1)]),e._v(" "),r("div",{staticClass:"myExportList-biaoGeDiv"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"lis",attrs:{"element-loading-text":"en"==e.primaryLangID?"Loading":"酒店数据加载中"}},[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.orders,border:"",stripe:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderId",label:"订单号","min-width":"380"}}),e._v(" "),r("el-table-column",{attrs:{label:"酒店名称","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{attrs:{title:t.row.hotelName}},[e._v(e._s(t.row.hotelName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"预定日期","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.targetDate))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"渠道","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.formatterChannels(t.row)))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"入住日期","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkInDate))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"离店日期","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkOutDate))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"checkInPerson",label:"入住姓名","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"floorPrice",label:"底价","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"sellingPrice",label:"卖价","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"grossMargin",label:"毛利","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"salesManager",label:"销售经理","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"operation",label:"运营","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"invoiceTitle",label:"发票抬头","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"dutyParagraph",label:"税号","min-width":"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"200"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.change(t.row)}}},[e._v("修改")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.toDeleteOne(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),e.total?r("div",{staticClass:"pc"},[r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.orders.length,expression:"orders.length"}],attrs:{"current-page":e.pageNum,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)])},staticRenderFns:[]};var m=r("VU/8")(u,d,!1,function(e){r("R0i7")},null,null);t.default=m.exports},R0i7:function(e,t){}});