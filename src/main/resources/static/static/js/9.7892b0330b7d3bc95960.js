webpackJsonp([9],{"4poM":function(e,t){},JNIu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),o=a("NC6I"),s=a.n(o),l=a("D2Ra"),i=a("NYxO"),c=(a("kw8N"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e});function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function r(n,o){try{var s=t[n](o),l=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}var p={data:function(){return{loading:!1,checkInPerson:"",delFlag:!1,startDate:"",endDate:"",hotelName:"",operation:"",orderReference:"",proprietaryHotel:"",orderStatus:"",searchOrderStatus:[],channel:"",channels:[{name:"代理通",id:0},{name:"飞猪",id:1},{name:"美团",id:2},{name:"青芒果",id:3}],orderstatus:[[{name:"确认有房-已接受"},{name:"赔付"},{name:"待处理-已取消"}],[{name:"交易成功-已经离店"},{name:"确认有房-确认有房"},{name:"赔付"},{name:"退款成功-待处理"}],[{name:"确认有房"},{name:"确认无房"},{name:"已离店"},{name:"赔付"},{name:"处理中"},{name:"待处理"}],[{name:"订单无问题"},{name:"已安排-确认有房"},{name:"赔付"},{name:"已取消-待处理"},{name:"已入住-确认有房"}]],dateFlag:"",time:"",orderIds:[],pageNum:1,pageSize:10,total:0,Orders:[],orders:[],orderLists:[],tiaoJian:{},dialogInsertVisible:!1,insertForm:{channel:"",checkInDate:"",checkOutDate:"",targetDate:"",checkInPerson:"",dutyParagraph:"",floorPrice:"",hotelName:"",houseType:"",invoiceTitle:"",numbersNight:"",numbersRoom:"",operation:"",orderReference:"",orderStatus:"",orderstatus:[],proprietaryHotel:"",remark:"",salesManager:"",sellingPrice:""},insertError:"",dialogUpdateVisible:!1,updateForm:{channel:"",orderId:"",checkInDate:"",checkOutDate:"",targetDate:"",checkInPerson:"",dutyParagraph:"",floorPrice:"",hotelName:"",houseType:"",invoiceTitle:"",numbersNight:"",numbersRoom:"",operation:"",orderReference:"",orderStatus:"",orderstatus:[],proprietaryHotel:"",remark:"",salesManager:"",sellingPrice:""},updateError:"",dialogExcelVisible:!1,downExcelUrl:"",downExcelUrlAll:"",dialogInExcelVisible:!1}},computed:c({},Object(i.c)(["primaryLangID"])),created:function(){this.search()},mounted:function(){this.choiceMenuId("artificialOrder")},methods:c({},Object(i.b)(["choiceMenuId"]),{returnHeaders:function(e){var t=(new Date).getTime()+"",a="                                         ";return{timestamp:t,interfacekey:a,requesttype:e,signature:s()(t+109+s()(a).toUpperCase()+104+e).toUpperCase(),masterhotelmode:"T","Content-Type":"application/json;charset=UTF-8"}},handleCurrentChange:function(e){this.pageNum=e,this.reqOrders()},handleSizeChange:function(e){this.pageSize=e,this.reqOrders()},resetTiaoJian:function(){this.checkInPerson="",this.hotelName="",this.operation="",this.orderReference="",this.proprietaryHotel="",this.orderStatus="",this.channel="",this.dateFlag="",this.time="",this.startDate="",this.endDate="",this.delFlag=!1,this.pageNum=1},saveTiaoJian:function(){var e={};e.pageSize=this.pageSize,e.pageNum=this.pageNum,e.channel=this.channel,e.checkInPerson=this.checkInPerson,e.startDate=this.startDate,e.endDate=this.endDate,e.hotelName=this.hotelName,e.orderReference=this.orderReference,e.orderStatus=this.orderStatus,e.proprietaryHotel=this.proprietaryHotel,e.dateFlag=this.dateFlag,e.delFlag=this.delFlag,this.tiaoJian=e},search:function(e){this.pageNum=e||1,this.reqOrders()},reqOrders:function(){var e=this;return u(n.a.mark(function t(){var a,r,o,s,i,c,u,p,d,m,h,f,g,v,b;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.pageSize,r=e.pageNum,o=e.proprietaryHotel,s=e.channel,i=e.checkInPerson,c=e.hotelName,u=e.orderReference,p=e.orderStatus,d=e.dateFlag,m=e.endDate,h=e.startDate,f=e.delFlag,g={pageSize:a,pageNum:r,delFlag:f=f?0:1},s&&(g.channel=s),i&&(g.checkInPerson=i),c&&(g.hotelName=c),u&&(g.orderReference=u),p&&(g.orderStatus=p),"number"==typeof d&&(d>0||0==d)&&(g.dateFlag=d,m&&(g.endDate=m),h&&(g.startDate=h)),"number"!=typeof o||1!=o&&0!=o||(g.proprietaryHotel=o),e.loading=!0,t.next=13,Object(l.D)(g);case 13:v=t.sent,e.loading=!1,0==v.status?(e.saveTiaoJian(),e.orderIds=[],e.Orders=v.data.list[0],e.orders=e.Orders.orders,e.total=v.data.total):(b=v.msg?v.msg:"获取订单列表失败",e.message(b,"error",1500));case 16:case"end":return t.stop()}},t,e)}))()},quickSearch:function(e){var t=this;return u(n.a.mark(function a(){var r,o,s,i,c;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.resetTiaoJian(),r=t.pageSize,o=t.pageNum,s={pageSize:r,pageNum:o,newFlag:e},t.loading=!0,a.next=6,Object(l.D)(s);case 6:i=a.sent,t.loading=!1,0==i.status?(t.saveTiaoJian(),t.orderIds=[],t.Orders=i.data.list[0],t.orders=t.Orders.orders,t.total=i.data.total):(c=i.msg?i.msg:"获取订单列表失败",t.message(c,"error",1500));case 9:case"end":return a.stop()}},a,t)}))()},searchChannelChange:function(){var e=this,t=[],a=this.channels,r=this.orderstatus;a.map(function(a){a.name==e.channel&&(t=r[a.id])}),this.orderStatus="",this.searchOrderStatus=t},toInsert:function(){this.dialogInsertVisible=!0},cancleInsert:function(){this.dialogInsertVisible=!1},insert:function(){var e=this;return u(n.a.mark(function t(){var a,r,o,s,i,c,u,p,d,m,h,f,g,v,b,y,k,F,x,_,D,w,I,C,P;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.insertForm,r=a.channel,o=a.checkInDate,s=a.checkInPerson,i=a.checkOutDate,c=a.dutyParagraph,u=a.floorPrice,p=a.hotelName,d=a.invoiceTitle,m=a.numbersNight,h=e.insertForm,f=h.numbersRoom,g=h.operation,v=h.orderReference,b=h.orderStatus,y=h.proprietaryHotel,k=h.remark,F=h.salesManager,x=h.sellingPrice,_=h.targetDate,D=h.houseType,!(v&&p&&s)){t.next=29;break}return(w=new FormData).append("channel",r),w.append("checkInDate",o),w.append("checkInPerson",s),w.append("checkOutDate",i),w.append("dutyParagraph",c),w.append("floorPrice",u),w.append("hotelName",p),w.append("invoiceTitle",d),w.append("numbersNight",m),w.append("numbersRoom",f),w.append("orderReference",v),w.append("orderStatus",b),w.append("proprietaryHotel",y),w.append("remark",k),w.append("operation",g),w.append("salesManager",F),w.append("sellingPrice",x),w.append("targetDate",_),w.append("houseType",D),t.next=25,Object(l.G)(w);case 25:0==(I=t.sent).status?(e.dialogInsertVisible=!1,C=e.pageSize,P=e.pageNum,e.orders.length==C&&(e.total++,P++),e.search(P),e.message(I.msg,"success",1500)):I.msg?e.insertError=I.msg:e.insertError="新增订单失败，请检查填写信息是否正确再重试上传",t.next=30;break;case 29:e.insertError="请填写完整必填信息";case 30:case"end":return t.stop()}},t,e)}))()},insertChannelChange:function(){var e=this,t=[],a=this.channels,r=this.orderstatus;a.map(function(a){a.name==e.insertForm.channel&&(t=r[a.id])}),this.insertForm.orderStatus="",this.insertForm.orderstatus=t},insertDateChange:function(){var e=this.insertForm,t=e.checkOutDate,a=e.checkInDate;t&&a&&(t=(t=t.split("-")).join("/"),t=new Date(t).getTime(),a=(a=a.split("-")).join("/"),a=new Date(a).getTime(),this.insertForm.numbersNight=Math.floor((t-a)/864e5))},resetForm:function(e){this.$refs[e].resetFields()},change:function(e){var t=e.channel,a=e.checkInDate,r=e.checkInPerson,n=e.checkOutDate,o=e.dutyParagraph,s=e.floorPrice,l=e.hotelName,i=e.invoiceTitle,c=e.numbersNight,u=e.orderId,p=e.numbersRoom,d=e.operation,m=e.orderReference,h=e.orderStatus,f=e.proprietaryHotel,g=e.remark,v=e.salesManager,b=e.sellingPrice,y=e.targetDate,k=e.houseType;this.updateForm.channel=t,this.updateForm.checkInDate=a,this.updateForm.checkInPerson=r,this.updateForm.checkOutDate=n,this.updateForm.dutyParagraph=o,this.updateForm.floorPrice=s,this.updateForm.hotelName=l,this.updateForm.invoiceTitle=i,this.updateForm.numbersNight=c,this.updateForm.orderId=u,this.updateForm.numbersRoom=p,this.updateForm.houseType=k,this.updateForm.operation=d,this.updateForm.orderReference=m,this.updateForm.orderStatus=h,this.updateForm.proprietaryHotel=f,this.updateForm.proprietaryHotel=f,this.updateForm.remark=g,this.updateForm.salesManager=v,this.updateForm.sellingPrice=b,this.updateForm.targetDate=y,this.updateChannelChange(!0),this.dialogUpdateVisible=!0},cancleUpdate:function(){this.dialogUpdateVisible=!1},update:function(){var e=this;return u(n.a.mark(function t(){var a,r,o,s,i,c,u,p,d,m,h,f,g,v,b,y,k,F,x,_,D,w,I,C;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.updateForm,r=a.channel,o=a.checkInDate,s=a.checkInPerson,i=a.checkOutDate,c=a.dutyParagraph,u=a.floorPrice,p=a.hotelName,d=a.invoiceTitle,m=a.numbersNight,h=a.orderId,f=e.updateForm,g=f.numbersRoom,v=f.operation,b=f.orderReference,y=f.orderStatus,k=f.proprietaryHotel,F=f.remark,x=f.salesManager,_=f.sellingPrice,D=f.targetDate,w=f.houseType,!(b&&p&&s)){t.next=30;break}return(I=new FormData).append("channel",r),I.append("orderId",h),I.append("checkInDate",o),I.append("checkInPerson",s),I.append("checkOutDate",i),I.append("dutyParagraph",c),I.append("floorPrice",u),I.append("hotelName",p),I.append("invoiceTitle",d),I.append("numbersNight",m),I.append("numbersRoom",g),I.append("orderReference",b),I.append("orderStatus",y),I.append("proprietaryHotel",k),I.append("remark",F),I.append("operation",v),I.append("salesManager",x),I.append("sellingPrice",_),I.append("targetDate",D),I.append("houseType",w),t.next=26,Object(l.F)(I);case 26:0==(C=t.sent).status?(e.dialogUpdateVisible=!1,e.search(e.pageNum),e.message(C.msg,"success",1500)):C.msg?e.updateError=C.msg:e.updateError="修改订单失败，请检查填写信息是否正确再重试修改",t.next=31;break;case 30:e.updateError="请填写完整必填信息";case 31:case"end":return t.stop()}},t,e)}))()},updateChannelChange:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[],r=this.channels,n=this.orderstatus;r.map(function(t){t.name==e.updateForm.channel&&(a=n[t.id])}),t||(this.updateForm.orderStatus=""),this.updateForm.orderstatus=a},updateDateChange:function(){var e=this.updateForm,t=e.checkOutDate,a=e.checkInDate;t&&a&&(t=(t=t.split("-")).join("/"),t=new Date(t).getTime(),a=(a=a.split("-")).join("/"),a=new Date(a).getTime(),this.updateForm.numbersNight=Math.floor((t-a)/864e5))},resetOrder:function(e){var t=this;this.$confirm("确定恢复该订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(u(n.a.mark(function a(){var r,o,s,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.orderId,(o=new FormData).append("orderId",r),o.append("delFlag",1),a.next=6,Object(l.F)(o);case 6:0==(s=a.sent).status?(t.search(t.pageNum),t.message("恢复订单成功","success",1500)):(i=s.msg?s.msg:"恢复订单失败",t.message(i,"error",1500));case 8:case"end":return a.stop()}},a,t)}))).catch(function(){console.log("已取消操作")})},toDeleteOne:function(e){var t=this;this.$confirm("确定删除该订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteOne(e)}).catch(function(){console.log("已取消操作")})},toDeleteMany:function(){var e=this;this.$confirm("确定删除选中的订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteMany()}).catch(function(){console.log("已取消操作")})},deleteMany:function(){var e=this;return u(n.a.mark(function t(){var a,r,o,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.orderIds,t.next=3,Object(l.e)(a);case 3:0==(r=t.sent).status?(o=e.pageNum,e.orders.length==a.length&&o>1&&o--,e.search(o)):(s=r.msg?r.msg:"删除订单失败",e.message(s,"error",1500));case 5:case"end":return t.stop()}},t,e)}))()},deleteOne:function(e){var t=this;return u(n.a.mark(function a(){var r,o,s,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r=[]).push(e.orderId),a.next=4,Object(l.e)(r);case 4:0==(o=a.sent).status?(s=t.pageNum,1==t.orders.length&&s>1&&s--,t.search(s)):(i=o.msg?o.msg:"删除订单失败",t.message(i,"error",1500));case 6:case"end":return a.stop()}},a,t)}))()},daoChu:function(){this.dialogExcelVisible=!0,this.outPutExcel()},outPutExcel:function(){var e=this;return u(n.a.mark(function t(){var a,r,o,s,i,c,u,p,d,m,h,f,g,v,b,y,k,F,x;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.tiaoJian.excelFlag=0,!(0==e.tiaoJian.excelFlag&&e.orders.length>0)){t.next=15;break}return a=e.tiaoJian,r=a.pageSize,o=a.pageNum,s=a.proprietaryHotel,i=a.channel,c=a.checkInPerson,u=a.hotelName,p=a.orderReference,d=a.orderStatus,m=a.dateFlag,h=a.endDate,f=a.startDate,g=a.excelFlag,v={pageSize:r,pageNum:o,excelFlag:g},i&&(v.channel=i),c&&(v.checkInPerson=c),u&&(v.hotelName=u),p&&(v.orderReference=p),d&&(v.orderStatus=d),""!=m&&(m>0||0==m)&&(v.dateFlag=m,h&&(v.endDate=h),f&&(v.startDate=f)),""==s||1!=s&&0!=s||(v.proprietaryHotel=s),t.next=13,Object(l.A)(v);case 13:(b=t.sent)?(y="http://172.16.13.73:8256/order/output_excel_order.do?",v!=={}&&(k="",Object.keys(v).forEach(function(e){k+=e+"="+v[e]+"&"}),""!==k&&(k=k.substring(0,k.lastIndexOf("&")),y+=k)),e.downExcelUrl=y):(F=b.msg?b.msg:"数据导出失败",e.message(F,"error",1500));case 15:if(e.tiaoJian.excelFlag=1,1!=e.tiaoJian.excelFlag){t.next=23;break}return g=e.tiaoJian.excelFlag,v={excelFlag:g},t.next=21,Object(l.A)(v);case 21:(b=t.sent)?(y="http://172.16.13.73:8256/order/output_excel_order.do?",v!=={}&&(x="",Object.keys(v).forEach(function(e){x+=e+"="+v[e]+"&"}),""!==x&&(x=x.substring(0,x.lastIndexOf("&")),y+=x)),e.downExcelUrlAll=y):(F=b.msg?b.msg:"数据导出失败",e.message(F,"error",1500));case 23:case"end":return t.stop()}},t,e)}))()},hadDown:function(){this.dialogExcelVisible=!1,this.downExcelUrl="",this.downExcelUrlAll=""},handleChange1:function(e,t){var a=new FormData;a.append("file",e.raw),this.UploadExcel(1,a)},handleChange2:function(e,t){var a=new FormData;a.append("file",e.raw),this.UploadExcel(2,a)},handleChange3:function(e,t){var a=new FormData;a.append("file",e.raw),this.UploadExcel(3,a)},handleChange4:function(e,t){var a=new FormData;a.append("file",e.raw),this.UploadExcel(4,a)},UploadExcel:function(e,t){var a=this;return u(n.a.mark(function r(){var o,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(1!=e){r.next=6;break}return r.next=3,Object(l.q)(t);case 3:o=r.sent,r.next=22;break;case 6:if(2!=e){r.next=12;break}return r.next=9,Object(l.r)(t);case 9:o=r.sent,r.next=22;break;case 12:if(3!=e){r.next=18;break}return r.next=15,Object(l.s)(t);case 15:o=r.sent,r.next=22;break;case 18:if(4!=e){r.next=22;break}return r.next=21,Object(l.t)(t);case 21:o=r.sent;case 22:0==o.status?(a.message("导入Excel文件成功","success",1500),a.dialogInExcelVisible=!1,a.resetTiaoJian(),a.search()):(s=o.msg?o.msg:"导入Excel文件出错",a.message(s,"error",1500));case 23:case"end":return r.stop()}},r,a)}))()},handleSelectionChange:function(e){var t=[];e.map(function(e){t.push(e.orderId)}),this.orderIds=t,console.log(this.orderIds)},goToDetail:function(e){this.hotelID=e.hotelID;var t=this.$router.resolve({name:"hotelDeatil",query:{hotelID:JSON.stringify(this.hotelID),hoteltype:JSON.stringify(0)}}).href;window.open(t,"_blank")},formatterOpenYear:function(e,t){return e.openYear?e.openYear.slice(0,10):"-"},formatterChannels:function(e,t){var a="";return this.channels.map(function(t){t.id==e.channel&&(a=t.name)}),a},dateToStr:function(e){var t=e.getFullYear(),a=e.getMonth(),r=e.getMonth()+1,n=e.getDate(),o=e.getHours(),s=e.getMinutes();e.getSeconds();return a<10&&(a="0"+a),r<10&&(r="0"+r),n<10&&(n="0"+n),o<10&&(o="0"+o),s<10&&(s="0"+s),t+"-"+r+"-"+n},message:function(e,t,a){this.$message({message:e,duration:a,type:t})}}),watch:{time:function(e,t){e?(this.startDate=this.dateToStr(e[0]),this.endDate=this.dateToStr(e[1])):(this.startDate="",this.endDate="")},dialogInsertVisible:function(e,t){this.insertError="",e||this.resetForm("insertForm")},dialogUpdateVisible:function(e,t){this.updateError=""}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myExportList"},[a("div",{staticStyle:{padding:"20px"}},[a("h3",{staticClass:"myExportList-bigTtitle"},[e._v("手工订单：")]),e._v(" "),a("el-dialog",{attrs:{title:"新增订单",top:"7vh",visible:e.dialogInsertVisible},on:{"update:visible":function(t){e.dialogInsertVisible=t}}},[a("el-form",{ref:"insertForm",attrs:{model:e.insertForm}},[a("el-form-item",{attrs:{label:"酒店名",prop:"hotelName",rules:[{required:!0,message:"请输入酒店名",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.hotelName,callback:function(t){e.$set(e.insertForm,"hotelName",t)},expression:"insertForm.hotelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入住人姓名",prop:"checkInPerson",rules:[{required:!0,message:"请输入入住人姓名",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.checkInPerson,callback:function(t){e.$set(e.insertForm,"checkInPerson",t)},expression:"insertForm.checkInPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单编号",prop:"orderReference",rules:[{required:!0,message:"请输入订单编号",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.orderReference,callback:function(t){e.$set(e.insertForm,"orderReference",t)},expression:"insertForm.orderReference "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预定日期",prop:"targetDate"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择预定日期"},model:{value:e.insertForm.targetDate,callback:function(t){e.$set(e.insertForm,"targetDate",t)},expression:"insertForm.targetDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入住日期",prop:"checkInDate"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择入住日期"},on:{change:function(t){return e.insertDateChange()}},model:{value:e.insertForm.checkInDate,callback:function(t){e.$set(e.insertForm,"checkInDate",t)},expression:"insertForm.checkInDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"离店日期",prop:"checkOutDate"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择离店日期"},on:{change:function(t){return e.insertDateChange()}},model:{value:e.insertForm.checkOutDate,callback:function(t){e.$set(e.insertForm,"checkOutDate",t)},expression:"insertForm.checkOutDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"卖价",prop:"sellingPrice"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.sellingPrice,callback:function(t){e.$set(e.insertForm,"sellingPrice",t)},expression:"insertForm.sellingPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"底价",prop:"floorPrice"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.floorPrice,callback:function(t){e.$set(e.insertForm,"floorPrice",t)},expression:"insertForm.floorPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"夜数",prop:"numbersNight"}},[a("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.insertForm.numbersNight,callback:function(t){e.$set(e.insertForm,"numbersNight",t)},expression:"insertForm.numbersNight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间数",prop:"numbersRoom"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.numbersRoom,callback:function(t){e.$set(e.insertForm,"numbersRoom",t)},expression:"insertForm.numbersRoom"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间类型",prop:"houseType"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.houseType,callback:function(t){e.$set(e.insertForm,"houseType",t)},expression:"insertForm.houseType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否自营酒店",prop:"proprietaryHotel"}},[a("el-select",{attrs:{placeholder:"请选择是否是自营酒店"},model:{value:e.insertForm.proprietaryHotel,callback:function(t){e.$set(e.insertForm,"proprietaryHotel",t)},expression:"insertForm.proprietaryHotel"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"不是",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道",prop:"channel"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},on:{change:function(t){return e.insertChannelChange()}},model:{value:e.insertForm.channel,callback:function(t){e.$set(e.insertForm,"channel",t)},expression:"insertForm.channel"}},e._l(e.channels,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择订单状态"},model:{value:e.insertForm.orderStatus,callback:function(t){e.$set(e.insertForm,"orderStatus",t)},expression:"insertForm.orderStatus"}},e._l(e.insertForm.orderstatus,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"运营",prop:"operation"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.operation,callback:function(t){e.$set(e.insertForm,"operation",t)},expression:"insertForm.operation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"销售经理",prop:"salesManager"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.salesManager,callback:function(t){e.$set(e.insertForm,"salesManager",t)},expression:"insertForm.salesManager"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发票抬头",prop:"invoiceTitle"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.invoiceTitle,callback:function(t){e.$set(e.insertForm,"invoiceTitle",t)},expression:"insertForm.invoiceTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税号",prop:"dutyParagraph"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.insertForm.dutyParagraph,callback:function(t){e.$set(e.insertForm,"dutyParagraph",t)},expression:"insertForm.dutyParagraph"}})],1),e._v(" "),a("el-form-item",{staticClass:"remarkInputItem",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"},model:{value:e.insertForm.remark,callback:function(t){e.$set(e.insertForm,"remark",t)},expression:"insertForm.remark"}})],1)],1),e._v(" "),e.insertError?a("div",{staticClass:"errorTip"},[e._v(e._s(" * ")+e._s(e.insertError))]):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.cancleInsert()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.insert()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改订单",top:"7vh",visible:e.dialogUpdateVisible},on:{"update:visible":function(t){e.dialogUpdateVisible=t}}},[a("el-form",{ref:"insertForm",attrs:{model:e.updateForm}},[a("el-form-item",{attrs:{label:"酒店名",prop:"hotelName",rules:[{required:!0,message:"请输入酒店名",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.hotelName,callback:function(t){e.$set(e.updateForm,"hotelName",t)},expression:"updateForm.hotelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入住人姓名",prop:"checkInPerson",rules:[{required:!0,message:"请输入入住人姓名",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.checkInPerson,callback:function(t){e.$set(e.updateForm,"checkInPerson",t)},expression:"updateForm.checkInPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单编号",prop:"orderReference",rules:[{required:!0,message:"请输入订单编号",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.orderReference,callback:function(t){e.$set(e.updateForm,"orderReference",t)},expression:"updateForm.orderReference "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预定日期",prop:"targetDate"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择预定日期"},model:{value:e.updateForm.targetDate,callback:function(t){e.$set(e.updateForm,"targetDate",t)},expression:"updateForm.targetDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入住日期",prop:"checkInDate"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择入住日期"},on:{change:function(t){return e.updateDateChange()}},model:{value:e.updateForm.checkInDate,callback:function(t){e.$set(e.updateForm,"checkInDate",t)},expression:"updateForm.checkInDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"离店日期",prop:"checkOutDate"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy - MM - dd ","value-format":"yyyy-MM-dd",placeholder:"选择离店日期"},on:{change:function(t){return e.updateDateChange()}},model:{value:e.updateForm.checkOutDate,callback:function(t){e.$set(e.updateForm,"checkOutDate",t)},expression:"updateForm.checkOutDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"卖价",prop:"sellingPrice"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.sellingPrice,callback:function(t){e.$set(e.updateForm,"sellingPrice",t)},expression:"updateForm.sellingPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"底价",prop:"floorPrice"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.floorPrice,callback:function(t){e.$set(e.updateForm,"floorPrice",t)},expression:"updateForm.floorPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"夜数",prop:"numbersNight"}},[a("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.updateForm.numbersNight,callback:function(t){e.$set(e.updateForm,"numbersNight",t)},expression:"updateForm.numbersNight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间数",prop:"numbersRoom"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.numbersRoom,callback:function(t){e.$set(e.updateForm,"numbersRoom",t)},expression:"updateForm.numbersRoom"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房间类型",prop:"houseType"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.houseType,callback:function(t){e.$set(e.updateForm,"houseType",t)},expression:"updateForm.houseType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否是自营酒店",prop:"proprietaryHotel"}},[a("el-select",{attrs:{placeholder:"请选择是否是自营酒店"},model:{value:e.updateForm.proprietaryHotel,callback:function(t){e.$set(e.updateForm,"proprietaryHotel",t)},expression:"updateForm.proprietaryHotel"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"不是",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道",prop:"channel"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},on:{change:function(t){return e.updateChannelChange()}},model:{value:e.updateForm.channel,callback:function(t){e.$set(e.updateForm,"channel",t)},expression:"updateForm.channel"}},e._l(e.channels,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态",prop:"orderStatus"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择订单状态"},model:{value:e.updateForm.orderStatus,callback:function(t){e.$set(e.updateForm,"orderStatus",t)},expression:"updateForm.orderStatus"}},e._l(e.updateForm.orderstatus,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"运营",prop:"operation"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.operation,callback:function(t){e.$set(e.updateForm,"operation",t)},expression:"updateForm.operation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"销售经理",prop:"salesManager"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.salesManager,callback:function(t){e.$set(e.updateForm,"salesManager",t)},expression:"updateForm.salesManager"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发票抬头",prop:"invoiceTitle"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.invoiceTitle,callback:function(t){e.$set(e.updateForm,"invoiceTitle",t)},expression:"updateForm.invoiceTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税号",prop:"dutyParagraph"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.dutyParagraph,callback:function(t){e.$set(e.updateForm,"dutyParagraph",t)},expression:"updateForm.dutyParagraph"}})],1),e._v(" "),a("el-form-item",{staticClass:"remarkInputItem",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"},model:{value:e.updateForm.remark,callback:function(t){e.$set(e.updateForm,"remark",t)},expression:"updateForm.remark"}})],1)],1),e._v(" "),e.updateError?a("div",{staticClass:"errorTip"},[e._v(e._s(" * ")+e._s(e.updateError))]):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.cancleUpdate()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.update()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导出Excel",top:"35vh",width:"500px",visible:e.dialogExcelVisible},on:{"update:visible":function(t){e.dialogExcelVisible=t}}},[a("div",{staticStyle:{"padding-bottom":"30px","text-align":"center"}},[e.downExcelUrl?a("el-button",{on:{click:function(t){return e.hadDown()}}},[a("a",{attrs:{href:e.downExcelUrl}},[e._v("导出当页数据Excel")])]):e._e(),e._v(" "),e.downExcelUrlAll?a("el-button",{on:{click:function(t){return e.hadDown()}}},[a("a",{attrs:{href:e.downExcelUrlAll}},[e._v("导出全部数据Excel")])]):e._e()],1)]),e._v(" "),a("el-dialog",{attrs:{title:"导入Excel",top:"35vh",width:"500px",visible:e.dialogInExcelVisible},on:{"update:visible":function(t){e.dialogInExcelVisible=t}}},[a("div",{staticStyle:{"padding-bottom":"30px","text-align":"center"}},[a("el-upload",{ref:"upload1",staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:"","on-change":e.handleChange1,"auto-upload":!1}},[a("el-button",{staticClass:"hotelButton",attrs:{type:"primary"}},[e._v("导入代理通Excel")])],1),e._v(" "),a("el-upload",{ref:"upload2",staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:"","on-change":e.handleChange2,"auto-upload":!1}},[a("el-button",{staticClass:"hotelButton",attrs:{type:"primary"}},[e._v("导入飞猪Excel")])],1),e._v(" "),e._e(),e._v(" "),a("el-upload",{ref:"upload4",staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:"","on-change":e.handleChange4,"auto-upload":!1}},[a("el-button",{staticClass:"hotelButton"},[e._v("导入青芒果Excel")])],1)],1)]),e._v(" "),a("div",{staticClass:"myExportList-smallTitle"},[a("span",{staticClass:"myExportList-span myExportList-title"},[e._v("\n        快速筛选\n      ")]),e._v(" "),a("span",{staticClass:"myExportList-span quick",on:{click:function(t){return e.quickSearch(0)}}},[e._v("\n        今日新订("+e._s(e.Orders.newOrderCount)+")\n      ")]),e._v(" "),a("span",{staticClass:"myExportList-span quick",on:{click:function(t){return e.quickSearch(1)}}},[e._v("\n        今日入住("+e._s(e.Orders.newCheckInCount)+")\n      ")]),e._v(" "),a("span",{staticClass:"myExportList-span quick",on:{click:function(t){return e.quickSearch(2)}}},[e._v("\n        待入住("+e._s(e.Orders.targetOrderCount)+")\n      ")])]),e._v(" "),a("ul",{staticClass:"myExportList-conditionUl"},[a("li",{staticClass:"myExportList-conditionLi"},[a("span",{staticClass:"myExportList-conditionSpan"},[e._v("订单编号：")]),e._v(" "),a("el-input",{attrs:{placeholder:"订单号"},model:{value:e.orderReference,callback:function(t){e.orderReference=t},expression:"orderReference"}})],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("span",{staticClass:"myExportList-conditionSpan"},[e._v("客户姓名：")]),e._v(" "),a("el-input",{attrs:{placeholder:"客户姓名"},model:{value:e.checkInPerson,callback:function(t){e.checkInPerson=t},expression:"checkInPerson"}})],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("span",{staticClass:"myExportList-conditionSpan"},[e._v("酒店名称：")]),e._v(" "),a("el-input",{attrs:{placeholder:"酒店名称"},model:{value:e.hotelName,callback:function(t){e.hotelName=t},expression:"hotelName"}})],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("span",{staticClass:"myExportList-conditionSpan"},[e._v("渠道：")]),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},on:{change:function(t){return e.searchChannelChange()}},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},e._l(e.channels,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("span",{staticClass:"myExportList-conditionSpan"},[e._v("订单状态：")]),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择订单状态"},model:{value:e.orderStatus,callback:function(t){e.orderStatus=t},expression:"orderStatus"}},e._l(e.searchOrderStatus,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("span",{staticClass:"myExportList-conditionSpan"},[e._v("是否自营：")]),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择渠道"},model:{value:e.proprietaryHotel,callback:function(t){e.proprietaryHotel=t},expression:"proprietaryHotel"}},[a("el-option",{attrs:{label:"非自营",value:0}}),e._v(" "),a("el-option",{attrs:{label:"自营",value:1}})],1)],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("span",{staticClass:"myExportList-conditionSpan"},[e._v("日期选择：")]),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择日期类型"},model:{value:e.dateFlag,callback:function(t){e.dateFlag=t},expression:"dateFlag"}},[a("el-option",{attrs:{label:"所有日期",value:0}}),e._v(" "),a("el-option",{attrs:{label:"预定日期",value:1}}),e._v(" "),a("el-option",{attrs:{label:"入住日期",value:2}}),e._v(" "),a("el-option",{attrs:{label:"离店日期",value:3}})],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("el-checkbox",{attrs:{label:"是否已删除",border:""},model:{value:e.delFlag,callback:function(t){e.delFlag=t},expression:"delFlag"}})],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("el-button",{staticClass:"hotelButton",on:{click:function(t){return e.search()}}},[e._v("查询")])],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("el-button",{staticClass:"hotelButton",attrs:{type:"primary"},on:{click:function(t){return e.toInsert()}}},[e._v("新增")])],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("el-button",{staticClass:"hotelButton",attrs:{type:"danger",plain:"",disabled:0==e.orderIds.length},on:{click:function(t){return e.toDeleteMany()}}},[e._v("批量删除")])],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("el-button",{staticClass:"hotelButton",attrs:{type:"primary"},on:{click:function(t){return e.daoChu()}}},[e._v("导出")])],1),e._v(" "),a("li",{staticClass:"myExportList-conditionLi"},[a("el-button",{staticClass:"hotelButton",on:{click:function(t){e.dialogInExcelVisible=!0}}},[e._v("导入表格文件")])],1)]),e._v(" "),a("div",{staticClass:"myExportList-biaoGeDiv"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"lis",attrs:{"element-loading-text":"en"==e.primaryLangID?"Loading":"酒店数据加载中"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.orders,border:"",stripe:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单号","min-width":"380"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"orderInfo",query:{orderId:JSON.stringify(t.row.orderId)}}}},[a("span",[e._v(e._s(t.row.orderId))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"酒店名称","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{attrs:{title:t.row.hotelName}},[e._v(e._s(t.row.hotelName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"预定日期","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.targetDate))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"channel",label:"渠道","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"入住日期","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkInDate))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"离店日期","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkOutDate))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checkInPerson",label:"入住姓名","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"floorPrice",label:"底价","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"卖价","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grossMargin",label:"毛利","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salesManager",label:"销售经理","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"运营","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.tiaoJian.delFlag?e._e():a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.change(t.row)}}},[e._v("修改")]),e._v(" "),e.tiaoJian.delFlag?e._e():a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.toDeleteOne(t.row)}}},[e._v("删除")]),e._v(" "),e.tiaoJian.delFlag?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.resetOrder(t.row)}}},[e._v("恢复")]):e._e()]}}])})],1)],1)]),e._v(" "),e.total?a("div",{staticClass:"pc"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.orders.length,expression:"orders.length"}],attrs:{"current-page":e.pageNum,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)])},staticRenderFns:[]};var m=a("VU/8")(p,d,!1,function(e){a("4poM")},null,null);t.default=m.exports}});